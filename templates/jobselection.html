<!DOCTYPE html>
<html>

<head>
  <meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
</head>
<style>
  body {
    /* background: linear-gradient(rgba(0,0,0,0.1),rgba(0,0,0,0.25));
    text-align: center; */
  }

  .A1 {
    float: left;
    width: 300px;
    height: 200px;
    display: inline;
  }

  .flex {
    height: 400px;
    width: 400px;
    position: absolute;
    top: 50%;
    left: 50%;
    margin-top: -200px;
    margin-left: -200px;
  }

  form {
    background: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.25));
    text-align: center;
  }

  input[type=button] {
    display: block;
    width: 115px;
    height: 40px;
    background: #4E9CAF;
    padding: 10px;
    text-align: center;
    border-radius: 5px;
    color: white;
    font-weight: bold;
    line-height: 25px;
    position: fixed;
    right: 800px;
    bottom: 125px;
  }

  /* a{
    transition: 0.5s ease;
    cursor: pointer;
    right: 20px;
    bottom: 20px;
    padding: 10px;
    } */
</style>

<body>
  <form name="selectjob">
    <div class="container-fluid">
      <div class="flex">
        <h1 text-align=center>Select the Job.</h1>
        <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
        <script>
          let occupation;
          job = new Array();
          job[0] = ["Hardware Engineer", "Senior Software Engineer", "Software Engineer", "ERP Application R&D", "System Engineer", "System Integration Engineer", "Database Engineer", "Database Administrator",
            "Multimedia Developvment Engineer", "Game Development Engineer", "E-commerce Software Engineer", "Network Engineer", "Information Security Engineer", "Technical Support Engineer", "Measure Engineer",
            "Standardization Engineer", "System Testing QA", "Software Testing QA", "Hardware Testing QA", "Communication Engineer", "Wired Transmission Enginner", "Wireless Communication Engineer", "Telecommunication Network Engineer",
            "Data Communication Engineer", "Mobile Communication Engineer"];
          job[1] = ["Finance Consultant", "Accountant / Accounting Assistant", "Cashier", "Finance Assistant", "Financial Analyst", "Cost Accounting Specialist",
            "Audit Executive", "Tax Executive", "Statistician", "Securities Broker", "Securities Analyst", "Financial Analyst", "Investment Advisor", "Financial Management Advisor",
            "Treasury Specialist", "Loan Officer", "Credit Officer", "Foreign Exchange", "Settlement Officer", "Bank Teller"];

          function renew(index) {
            occupation = index
            for (var i = 0; i < job[index].length; i++)
              document.selectjob.jobb.options[i] = new Option(job[index][i], job[index][i]); //設定新的選項
            document.selectjob.jobb.length = job[index].length; //刪除多的選項
          }


          function isSelected(index) {

            var jobName;
            console.log(index)

            jobName = job[occupation][index];
            document.getElementById("jobName").value = jobName
            console.log(jobName)

          }

          $(document).ready(function () {
            $(".isSelected").prop('disabled', true);
            $('.selectJob').change(function () {
              if ($('.selectJob').val() == 0) {
                $(".isSelected").prop('disabled', true);
              } else {
                $(".isSelected").prop('disabled', false);
              }
            });
          });

          if (typeof jQuery !== 'undefined') {
            console.log('jQuery Loaded');
          }
          else {
            console.log('not loaded yet');
          }
        </script>
        <div>
          <div class="A1">
            Occupational Group
            <select class="jobType" name="jobcate" size=3 onchange="renew(this.selectedIndex);">
              <option value="01">Information Technology/Engineering
              <option value="02">Finance/Accounting/Audit/Tax/Securities/Investment/Bank
            </select></div>
          <form action="post" method="submit">
            <div class="A1">
              Occupation
              <select class="selectJob" name="jobb" size=8 onchange="isSelected(this.selectedIndex);" id="jobb">
                <option value="00">You have to choose an occupational group above first. </option>
              </select></div>
          </form>



        </div>
      </div>

      <form method="post">
        {% csrf_token %} 
        <input type="hidden" name="jobName" id="jobName" value="" />
      <input onclick="location.href='/speech_to_text/equipCheck'" class="isSelected" type="submit" value="Confirm the job" onclick="isSelected()"></button>
      </form>

</body>

</html>